 /* This file is part of sparrow3d.
  * Sparrow3d is free software: you can redistribute it and/or modify
  * it under the terms of the GNU General Public License as published by
  * the Free Software Foundation, either version 2 of the License, or
  * (at your option) any later version.
  * 
  * Sparrow3d is distributed in the hope that it will be useful,
  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  * GNU General Public License for more details.
  * 
  * You should have received a copy of the GNU General Public License
  * along with Foobar.  If not, see <http://www.gnu.org/licenses/>
  * 
  * For feedback and questions about my Files and Projects please mail me,
  * Alexander Matthes (Ziz) , zizsdl_at_googlemail.com */

#include "sparrowPrimitiveDrawingThread.h"

#ifdef GP2X
	#include <SDL_thread.h>
#endif

Sint32  spScanLineBegin = 0;
Sint32  spScanLineEnd = 0;
type_spScanLineCache  *spScanLineCache = NULL;
SDL_Thread  *spScanLineThread = NULL;
Sint32  spScanLineMessage = 0;
SDL_mutex*  spScanLineMutex = NULL;

Sint32* spZBuffer = NULL;
Sint32 spTargetX = 0;
Sint32 spTargetY = 0;
Uint16* spTargetPixel = NULL;
Sint32 spTargetScanLine = 0;

Sint32 spOne_over_x_look_up_fixed[1 << SP_ACCURACY];
Sint32 spMaxWLogDiff = 3;

#ifdef __GNUC__
inline Sint32 one_over_x( Sint32 x ) __attribute__((always_inline));
#endif
inline Sint32 one_over_x( Sint32 x )
{
	if ( x > 0 )
	{
		if ( x < ( 1 << SP_ACCURACY ) )
			return spOne_over_x_look_up[x];
		if ( x == ( 1 << SP_ACCURACY ) )
			return 1;
		return 0;
	}
	if ( x > ( -1 << SP_ACCURACY ) )
		return -spOne_over_x_look_up[-x];
	if ( x == ( -1 << SP_ACCURACY ) )
		return -1;
	return 0;
}

#ifdef __GNUC__
inline Sint32 z_div( Sint32 z, Sint32 d ) __attribute__((always_inline));
#endif
inline Sint32 z_div( Sint32 z, Sint32 d )
{
#ifdef REALGP2X
	return spMulHigh( z, one_over_x( d ));
#else
	if ( d == 0 )
		return 0;
	return ((z)+((d)>>1)) / (d);
#endif
}

/* ************* Include of the pixel functions / defines *********** */
#include "sparrowPrimitiveSetPixelInclude.c"

/* ************* Tree-Include of the triangle functions *********** */
#include "sparrowPrimitiveHelperBlending.c"

int sp_intern_drawing_thread(void* reserved)
{
	//endless drawing loop
	while (spScanLineMessage)
	{
		//something in the stack?
		SDL_mutexP(spScanLineMutex);
		if (spScanLineBegin != spScanLineEnd)
		{
			SDL_mutexV(spScanLineMutex);
			switch (spScanLineCache[spScanLineBegin].mode)
			{
				case 0: //Triangle
				{
					#ifndef NO_BLENDING
					if ( spScanLineCache[spScanLineBegin].blending == SP_ONE )
					{
					#endif
						#ifndef NO_PATTERN
						if ( spScanLineCache[spScanLineBegin].usePattern )
						{
							if ( spScanLineCache[spScanLineBegin].zSet )
							{
								if ( spScanLineCache[spScanLineBegin].zTest )
									sp_intern_Triangle_ztest_zset_pattern(
										spScanLineCache[spScanLineBegin].primitive.triangle.x1,
										spScanLineCache[spScanLineBegin].primitive.triangle.y1,
										spScanLineCache[spScanLineBegin].primitive.triangle.z1,
										spScanLineCache[spScanLineBegin].primitive.triangle.x2,
										spScanLineCache[spScanLineBegin].primitive.triangle.y2,
										spScanLineCache[spScanLineBegin].primitive.triangle.z2,
										spScanLineCache[spScanLineBegin].primitive.triangle.x3,
										spScanLineCache[spScanLineBegin].primitive.triangle.y3,
										spScanLineCache[spScanLineBegin].primitive.triangle.z3,
										spScanLineCache[spScanLineBegin].primitive.triangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								else
									sp_intern_Triangle_zset_pattern(
										spScanLineCache[spScanLineBegin].primitive.triangle.x1,
										spScanLineCache[spScanLineBegin].primitive.triangle.y1,
										spScanLineCache[spScanLineBegin].primitive.triangle.z1,
										spScanLineCache[spScanLineBegin].primitive.triangle.x2,
										spScanLineCache[spScanLineBegin].primitive.triangle.y2,
										spScanLineCache[spScanLineBegin].primitive.triangle.z2,
										spScanLineCache[spScanLineBegin].primitive.triangle.x3,
										spScanLineCache[spScanLineBegin].primitive.triangle.y3,
										spScanLineCache[spScanLineBegin].primitive.triangle.z3,
										spScanLineCache[spScanLineBegin].primitive.triangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
							}
							else
							{
								if ( spScanLineCache[spScanLineBegin].zTest )
									sp_intern_Triangle_ztest_pattern(
										spScanLineCache[spScanLineBegin].primitive.triangle.x1,
										spScanLineCache[spScanLineBegin].primitive.triangle.y1,
										spScanLineCache[spScanLineBegin].primitive.triangle.z1,
										spScanLineCache[spScanLineBegin].primitive.triangle.x2,
										spScanLineCache[spScanLineBegin].primitive.triangle.y2,
										spScanLineCache[spScanLineBegin].primitive.triangle.z2,
										spScanLineCache[spScanLineBegin].primitive.triangle.x3,
										spScanLineCache[spScanLineBegin].primitive.triangle.y3,
										spScanLineCache[spScanLineBegin].primitive.triangle.z3,
										spScanLineCache[spScanLineBegin].primitive.triangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								else
									sp_intern_Triangle_pattern(
										spScanLineCache[spScanLineBegin].primitive.triangle.x1,
										spScanLineCache[spScanLineBegin].primitive.triangle.y1,
										spScanLineCache[spScanLineBegin].primitive.triangle.x2,
										spScanLineCache[spScanLineBegin].primitive.triangle.y2,
										spScanLineCache[spScanLineBegin].primitive.triangle.x3,
										spScanLineCache[spScanLineBegin].primitive.triangle.y3,
										spScanLineCache[spScanLineBegin].primitive.triangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
							}
						}
						else
						#endif
						{
							if ( spScanLineCache[spScanLineBegin].zSet )
							{
								if ( spScanLineCache[spScanLineBegin].zTest )
									sp_intern_Triangle_ztest_zset(
										spScanLineCache[spScanLineBegin].primitive.triangle.x1,
										spScanLineCache[spScanLineBegin].primitive.triangle.y1,
										spScanLineCache[spScanLineBegin].primitive.triangle.z1,
										spScanLineCache[spScanLineBegin].primitive.triangle.x2,
										spScanLineCache[spScanLineBegin].primitive.triangle.y2,
										spScanLineCache[spScanLineBegin].primitive.triangle.z2,
										spScanLineCache[spScanLineBegin].primitive.triangle.x3,
										spScanLineCache[spScanLineBegin].primitive.triangle.y3,
										spScanLineCache[spScanLineBegin].primitive.triangle.z3,
										spScanLineCache[spScanLineBegin].primitive.triangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								else
									sp_intern_Triangle_zset(
										spScanLineCache[spScanLineBegin].primitive.triangle.x1,
										spScanLineCache[spScanLineBegin].primitive.triangle.y1,
										spScanLineCache[spScanLineBegin].primitive.triangle.z1,
										spScanLineCache[spScanLineBegin].primitive.triangle.x2,
										spScanLineCache[spScanLineBegin].primitive.triangle.y2,
										spScanLineCache[spScanLineBegin].primitive.triangle.z2,
										spScanLineCache[spScanLineBegin].primitive.triangle.x3,
										spScanLineCache[spScanLineBegin].primitive.triangle.y3,
										spScanLineCache[spScanLineBegin].primitive.triangle.z3,
										spScanLineCache[spScanLineBegin].primitive.triangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
							}
							else
							{
								if ( spScanLineCache[spScanLineBegin].zTest )
									sp_intern_Triangle_ztest(
										spScanLineCache[spScanLineBegin].primitive.triangle.x1,
										spScanLineCache[spScanLineBegin].primitive.triangle.y1,
										spScanLineCache[spScanLineBegin].primitive.triangle.z1,
										spScanLineCache[spScanLineBegin].primitive.triangle.x2,
										spScanLineCache[spScanLineBegin].primitive.triangle.y2,
										spScanLineCache[spScanLineBegin].primitive.triangle.z2,
										spScanLineCache[spScanLineBegin].primitive.triangle.x3,
										spScanLineCache[spScanLineBegin].primitive.triangle.y3,
										spScanLineCache[spScanLineBegin].primitive.triangle.z3,
										spScanLineCache[spScanLineBegin].primitive.triangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								else
									sp_intern_Triangle(
										spScanLineCache[spScanLineBegin].primitive.triangle.x1,
										spScanLineCache[spScanLineBegin].primitive.triangle.y1,
										spScanLineCache[spScanLineBegin].primitive.triangle.x2,
										spScanLineCache[spScanLineBegin].primitive.triangle.y2,
										spScanLineCache[spScanLineBegin].primitive.triangle.x3,
										spScanLineCache[spScanLineBegin].primitive.triangle.y3,
										spScanLineCache[spScanLineBegin].primitive.triangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
							}
						}
					#ifndef NO_BLENDING
					}
					else
					{
						#ifndef NO_PATTERN
						if ( spScanLineCache[spScanLineBegin].usePattern )
						{
							if ( spScanLineCache[spScanLineBegin].zSet )
							{
								if ( spScanLineCache[spScanLineBegin].zTest )
									sp_intern_Triangle_blending_ztest_zset_pattern(
										spScanLineCache[spScanLineBegin].primitive.triangle.x1,
										spScanLineCache[spScanLineBegin].primitive.triangle.y1,
										spScanLineCache[spScanLineBegin].primitive.triangle.z1,
										spScanLineCache[spScanLineBegin].primitive.triangle.x2,
										spScanLineCache[spScanLineBegin].primitive.triangle.y2,
										spScanLineCache[spScanLineBegin].primitive.triangle.z2,
										spScanLineCache[spScanLineBegin].primitive.triangle.x3,
										spScanLineCache[spScanLineBegin].primitive.triangle.y3,
										spScanLineCache[spScanLineBegin].primitive.triangle.z3,
										spScanLineCache[spScanLineBegin].primitive.triangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								else
									sp_intern_Triangle_blending_zset_pattern(
										spScanLineCache[spScanLineBegin].primitive.triangle.x1,
										spScanLineCache[spScanLineBegin].primitive.triangle.y1,
										spScanLineCache[spScanLineBegin].primitive.triangle.z1,
										spScanLineCache[spScanLineBegin].primitive.triangle.x2,
										spScanLineCache[spScanLineBegin].primitive.triangle.y2,
										spScanLineCache[spScanLineBegin].primitive.triangle.z2,
										spScanLineCache[spScanLineBegin].primitive.triangle.x3,
										spScanLineCache[spScanLineBegin].primitive.triangle.y3,
										spScanLineCache[spScanLineBegin].primitive.triangle.z3,
										spScanLineCache[spScanLineBegin].primitive.triangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
							}
							else
							{
								if ( spScanLineCache[spScanLineBegin].zTest )
									sp_intern_Triangle_blending_ztest_pattern(
										spScanLineCache[spScanLineBegin].primitive.triangle.x1,
										spScanLineCache[spScanLineBegin].primitive.triangle.y1,
										spScanLineCache[spScanLineBegin].primitive.triangle.z1,
										spScanLineCache[spScanLineBegin].primitive.triangle.x2,
										spScanLineCache[spScanLineBegin].primitive.triangle.y2,
										spScanLineCache[spScanLineBegin].primitive.triangle.z2,
										spScanLineCache[spScanLineBegin].primitive.triangle.x3,
										spScanLineCache[spScanLineBegin].primitive.triangle.y3,
										spScanLineCache[spScanLineBegin].primitive.triangle.z3,
										spScanLineCache[spScanLineBegin].primitive.triangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								else
									sp_intern_Triangle_blending_pattern(
										spScanLineCache[spScanLineBegin].primitive.triangle.x1,
										spScanLineCache[spScanLineBegin].primitive.triangle.y1,
										spScanLineCache[spScanLineBegin].primitive.triangle.x2,
										spScanLineCache[spScanLineBegin].primitive.triangle.y2,
										spScanLineCache[spScanLineBegin].primitive.triangle.x3,
										spScanLineCache[spScanLineBegin].primitive.triangle.y3,
										spScanLineCache[spScanLineBegin].primitive.triangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
							}
						}
						else
						#endif
						{
							if ( spScanLineCache[spScanLineBegin].zSet )
							{
								if ( spScanLineCache[spScanLineBegin].zTest )
									sp_intern_Triangle_blending_ztest_zset(
										spScanLineCache[spScanLineBegin].primitive.triangle.x1,
										spScanLineCache[spScanLineBegin].primitive.triangle.y1,
										spScanLineCache[spScanLineBegin].primitive.triangle.z1,
										spScanLineCache[spScanLineBegin].primitive.triangle.x2,
										spScanLineCache[spScanLineBegin].primitive.triangle.y2,
										spScanLineCache[spScanLineBegin].primitive.triangle.z2,
										spScanLineCache[spScanLineBegin].primitive.triangle.x3,
										spScanLineCache[spScanLineBegin].primitive.triangle.y3,
										spScanLineCache[spScanLineBegin].primitive.triangle.z3,
										spScanLineCache[spScanLineBegin].primitive.triangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								else
									sp_intern_Triangle_blending_zset(
										spScanLineCache[spScanLineBegin].primitive.triangle.x1,
										spScanLineCache[spScanLineBegin].primitive.triangle.y1,
										spScanLineCache[spScanLineBegin].primitive.triangle.z1,
										spScanLineCache[spScanLineBegin].primitive.triangle.x2,
										spScanLineCache[spScanLineBegin].primitive.triangle.y2,
										spScanLineCache[spScanLineBegin].primitive.triangle.z2,
										spScanLineCache[spScanLineBegin].primitive.triangle.x3,
										spScanLineCache[spScanLineBegin].primitive.triangle.y3,
										spScanLineCache[spScanLineBegin].primitive.triangle.z3,
										spScanLineCache[spScanLineBegin].primitive.triangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
							}
							else
							{
								if ( spScanLineCache[spScanLineBegin].zTest )
									sp_intern_Triangle_blending_ztest(
										spScanLineCache[spScanLineBegin].primitive.triangle.x1,
										spScanLineCache[spScanLineBegin].primitive.triangle.y1,
										spScanLineCache[spScanLineBegin].primitive.triangle.z1,
										spScanLineCache[spScanLineBegin].primitive.triangle.x2,
										spScanLineCache[spScanLineBegin].primitive.triangle.y2,
										spScanLineCache[spScanLineBegin].primitive.triangle.z2,
										spScanLineCache[spScanLineBegin].primitive.triangle.x3,
										spScanLineCache[spScanLineBegin].primitive.triangle.y3,
										spScanLineCache[spScanLineBegin].primitive.triangle.z3,
										spScanLineCache[spScanLineBegin].primitive.triangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								else
									sp_intern_Triangle_blending(
										spScanLineCache[spScanLineBegin].primitive.triangle.x1,
										spScanLineCache[spScanLineBegin].primitive.triangle.y1,
										spScanLineCache[spScanLineBegin].primitive.triangle.x2,
										spScanLineCache[spScanLineBegin].primitive.triangle.y2,
										spScanLineCache[spScanLineBegin].primitive.triangle.x3,
										spScanLineCache[spScanLineBegin].primitive.triangle.y3,
										spScanLineCache[spScanLineBegin].primitive.triangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
							}
						}
					}
					#endif
					break;
				}
				case 1: //texTriangle
				{
					#ifndef NO_BLENDING
					if ( spScanLineCache[spScanLineBegin].blending == SP_ONE )
					{
					#endif
						#ifndef NO_PATTERN
						if ( spScanLineCache[spScanLineBegin].usePattern )
						{
							if ( spScanLineCache[spScanLineBegin].alphaTest )
							{
								if ( spScanLineCache[spScanLineBegin].zSet )
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_tex_ztest_zset_alpha_pattern(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_tex_zset_alpha_pattern(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
								else
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_tex_ztest_alpha_pattern(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_tex_alpha_pattern(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
							}
							else
							{
								if ( spScanLineCache[spScanLineBegin].zSet )
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_tex_ztest_zset_pattern(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_tex_zset_pattern(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
								else
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_tex_ztest_pattern(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_tex_pattern(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
							}
						}
						else
						#endif
						{
							if ( spScanLineCache[spScanLineBegin].alphaTest )
							{
								if ( spScanLineCache[spScanLineBegin].zSet )
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_tex_ztest_zset_alpha(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_tex_zset_alpha(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
								else
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_tex_ztest_alpha(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_tex_alpha(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
							}
							else
							{
								if ( spScanLineCache[spScanLineBegin].zSet )
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_tex_ztest_zset(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_tex_zset(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
								else
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_tex_ztest(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_tex(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
							}
						}
					#ifndef NO_BLENDING
					}
					else
					{
						#ifndef NO_PATTERN
						if ( spScanLineCache[spScanLineBegin].usePattern )
						{
							if ( spScanLineCache[spScanLineBegin].alphaTest )
							{
								if ( spScanLineCache[spScanLineBegin].zSet )
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_blending_tex_ztest_zset_alpha_pattern(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_blending_tex_zset_alpha_pattern(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
								else
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_blending_tex_ztest_alpha_pattern(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_blending_tex_alpha_pattern(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
							}
							else
							{
								if ( spScanLineCache[spScanLineBegin].zSet )
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_blending_tex_ztest_zset_pattern(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_blending_tex_zset_pattern(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
								else
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_blending_tex_ztest_pattern(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_blending_tex_pattern(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
							}
						}
						else
						#endif
						{
							if ( spScanLineCache[spScanLineBegin].alphaTest )
							{
								if ( spScanLineCache[spScanLineBegin].zSet )
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_blending_tex_ztest_zset_alpha(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_blending_tex_zset_alpha(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
								else
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_blending_tex_ztest_alpha(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_blending_tex_alpha(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
							}
							else
							{
								if ( spScanLineCache[spScanLineBegin].zSet )
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_blending_tex_ztest_zset(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_blending_tex_zset(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
								else
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_blending_tex_ztest(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_blending_tex(
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.texTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
							}
						}
					}
					#endif
					break;
				}
				#ifndef NO_PERSPECTIVE
				case 2: //perspectiveTexTriangle
				{
					#ifndef NO_BLENDING
					if ( spScanLineCache[spScanLineBegin].blending == SP_ONE )
					{
					#endif
						#ifndef NO_PATTERN
						if ( spScanLineCache[spScanLineBegin].usePattern )
						{
							if ( spScanLineCache[spScanLineBegin].alphaTest )
							{
								if ( spScanLineCache[spScanLineBegin].zSet )
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_tex_ztest_zset_alpha_pattern_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_tex_zset_alpha_pattern_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
								else
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_tex_ztest_alpha_pattern_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_tex_alpha_pattern_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
							}
							else
							{
								if ( spScanLineCache[spScanLineBegin].zSet )
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_tex_ztest_zset_pattern_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_tex_zset_pattern_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
								else
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_tex_ztest_pattern_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_tex_pattern_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
							}
						}
						else
						#endif
						{
							if ( spScanLineCache[spScanLineBegin].alphaTest )
							{
								if ( spScanLineCache[spScanLineBegin].zSet )
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_tex_ztest_zset_alpha_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_tex_zset_alpha_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
								else
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_tex_ztest_alpha_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_tex_alpha_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
							}
							else
							{
								if ( spScanLineCache[spScanLineBegin].zSet )
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_tex_ztest_zset_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_tex_zset_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
								else
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_tex_ztest_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_tex_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
							}
						}
					#ifndef NO_BLENDING
					}
					else
					{
						#ifndef NO_PATTERN
						if ( spScanLineCache[spScanLineBegin].usePattern )
						{
							if ( spScanLineCache[spScanLineBegin].alphaTest )
							{
								if ( spScanLineCache[spScanLineBegin].zSet )
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_blending_tex_ztest_zset_alpha_pattern_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_blending_tex_zset_alpha_pattern_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
								else
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_blending_tex_ztest_alpha_pattern_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_blending_tex_alpha_pattern_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
							}
							else
							{
								if ( spScanLineCache[spScanLineBegin].zSet )
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_blending_tex_ztest_zset_pattern_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_blending_tex_zset_pattern_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
								else
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_blending_tex_ztest_pattern_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_blending_tex_pattern_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
							}
						}
						else
						#endif
						{
							if ( spScanLineCache[spScanLineBegin].alphaTest )
							{
								if ( spScanLineCache[spScanLineBegin].zSet )
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_blending_tex_ztest_zset_alpha_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_blending_tex_zset_alpha_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
								else
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_blending_tex_ztest_alpha_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_blending_tex_alpha_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
							}
							else
							{
								if ( spScanLineCache[spScanLineBegin].zSet )
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_blending_tex_ztest_zset_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_blending_tex_zset_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
								else
								{
									if ( spScanLineCache[spScanLineBegin].zTest )
										sp_intern_Triangle_blending_tex_ztest_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.z3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
									else
										sp_intern_Triangle_blending_tex_perspect(
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w1,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w2,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.x3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.y3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.u3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.v3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.w3,
											spScanLineCache[spScanLineBegin].primitive.perspectiveTexTriangle.color,
											spScanLineCache[spScanLineBegin].texturePixel,
											spScanLineCache[spScanLineBegin].textureScanLine,
											spScanLineCache[spScanLineBegin].textureX,
											spScanLineCache[spScanLineBegin].textureY,
											spScanLineCache[spScanLineBegin].pattern,
											spScanLineCache[spScanLineBegin].blending);
								}
							}
						}
					}
					#endif
					break;
				}
				#endif
				case 3: //rectangle
				{
					#ifndef NO_PATTERN
					if ( spScanLineCache[spScanLineBegin].usePattern )
					{
						if ( spScanLineCache[spScanLineBegin].zSet )
						{
							if ( spScanLineCache[spScanLineBegin].zTest )
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_Rectangle_ztest_zset_pattern(
										spScanLineCache[spScanLineBegin].primitive.rectangle.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.z,
										spScanLineCache[spScanLineBegin].primitive.rectangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_Rectangle_blending_ztest_zset_pattern(
										spScanLineCache[spScanLineBegin].primitive.rectangle.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.z,
										spScanLineCache[spScanLineBegin].primitive.rectangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
							else
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_Rectangle_zset_pattern(
										spScanLineCache[spScanLineBegin].primitive.rectangle.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.z,
										spScanLineCache[spScanLineBegin].primitive.rectangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_Rectangle_blending_zset_pattern(
										spScanLineCache[spScanLineBegin].primitive.rectangle.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.z,
										spScanLineCache[spScanLineBegin].primitive.rectangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
						}
						else
						{
							if ( spScanLineCache[spScanLineBegin].zTest )
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_Rectangle_ztest_pattern(
										spScanLineCache[spScanLineBegin].primitive.rectangle.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.z,
										spScanLineCache[spScanLineBegin].primitive.rectangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_Rectangle_blending_ztest_pattern(
										spScanLineCache[spScanLineBegin].primitive.rectangle.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.z,
										spScanLineCache[spScanLineBegin].primitive.rectangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
							else
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_Rectangle_pattern(
										spScanLineCache[spScanLineBegin].primitive.rectangle.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.z,
										spScanLineCache[spScanLineBegin].primitive.rectangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_Rectangle_blending_pattern(
										spScanLineCache[spScanLineBegin].primitive.rectangle.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.z,
										spScanLineCache[spScanLineBegin].primitive.rectangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
						}
					}
					else
					#endif
					{
						if ( spScanLineCache[spScanLineBegin].zSet )
						{
							if ( spScanLineCache[spScanLineBegin].zTest )
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_Rectangle_ztest_zset(
										spScanLineCache[spScanLineBegin].primitive.rectangle.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.z,
										spScanLineCache[spScanLineBegin].primitive.rectangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_Rectangle_blending_ztest_zset(
										spScanLineCache[spScanLineBegin].primitive.rectangle.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.z,
										spScanLineCache[spScanLineBegin].primitive.rectangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
							else
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_Rectangle_zset(
										spScanLineCache[spScanLineBegin].primitive.rectangle.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.z,
										spScanLineCache[spScanLineBegin].primitive.rectangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_Rectangle_blending_zset(
										spScanLineCache[spScanLineBegin].primitive.rectangle.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.z,
										spScanLineCache[spScanLineBegin].primitive.rectangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
						}
						else
						{
							if ( spScanLineCache[spScanLineBegin].zTest )
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_Rectangle_ztest(
										spScanLineCache[spScanLineBegin].primitive.rectangle.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.z,
										spScanLineCache[spScanLineBegin].primitive.rectangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_Rectangle_blending_ztest(
										spScanLineCache[spScanLineBegin].primitive.rectangle.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.z,
										spScanLineCache[spScanLineBegin].primitive.rectangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
							else
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_Rectangle(
										spScanLineCache[spScanLineBegin].primitive.rectangle.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.z,
										spScanLineCache[spScanLineBegin].primitive.rectangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_Rectangle_blending(
										spScanLineCache[spScanLineBegin].primitive.rectangle.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangle.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangle.z,
										spScanLineCache[spScanLineBegin].primitive.rectangle.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
						}
					}
					break;
				}
				case 4: //rectangleBorder
				{
					#ifndef NO_PATTERN
					if ( spScanLineCache[spScanLineBegin].usePattern )
					{
						if ( spScanLineCache[spScanLineBegin].zSet )
						{
							if ( spScanLineCache[spScanLineBegin].zTest )
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_RectangleBorder_ztest_zset_pattern(
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.z,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.by,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_RectangleBorder_blending_ztest_zset_pattern(
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.z,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.by,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
							else
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_RectangleBorder_zset_pattern(
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.z,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.by,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_RectangleBorder_blending_zset_pattern(
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.z,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.by,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
						}
						else
						{
							if ( spScanLineCache[spScanLineBegin].zTest )
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_RectangleBorder_ztest_pattern(
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.z,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.by,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_RectangleBorder_blending_ztest_pattern(
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.z,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.by,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
							else
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_RectangleBorder_pattern(
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.z,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.by,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_RectangleBorder_blending_pattern(
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.z,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.by,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
						}
					}
					else
					#endif
					{
						if ( spScanLineCache[spScanLineBegin].zSet )
						{
							if ( spScanLineCache[spScanLineBegin].zTest )
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_RectangleBorder_ztest_zset(
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.z,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.by,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_RectangleBorder_blending_ztest_zset(
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.z,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.by,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
							else
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_RectangleBorder_zset(
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.z,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.by,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_RectangleBorder_blending_zset(
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.z,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.by,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
						}
						else
						{
							if ( spScanLineCache[spScanLineBegin].zTest )
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_RectangleBorder_ztest(
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.z,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.by,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_RectangleBorder_blending_ztest(
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.z,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.by,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
							else
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_RectangleBorder(
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.z,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.by,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_RectangleBorder_blending(
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.x2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.y2,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.z,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.by,
										spScanLineCache[spScanLineBegin].primitive.rectangleBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
						}
					}
					break;
				}
				case 5: //ellipse
				{
					#ifndef NO_PATTERN
					if ( spScanLineCache[spScanLineBegin].usePattern )
					{
						if ( spScanLineCache[spScanLineBegin].zSet )
						{
							if ( spScanLineCache[spScanLineBegin].zTest )
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_Ellipse_ztest_zset_pattern(
										spScanLineCache[spScanLineBegin].primitive.ellipse.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipse.z,
										spScanLineCache[spScanLineBegin].primitive.ellipse.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_Ellipse_blending_ztest_zset_pattern(
										spScanLineCache[spScanLineBegin].primitive.ellipse.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipse.z,
										spScanLineCache[spScanLineBegin].primitive.ellipse.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
							else
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_Ellipse_zset_pattern(
										spScanLineCache[spScanLineBegin].primitive.ellipse.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipse.z,
										spScanLineCache[spScanLineBegin].primitive.ellipse.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_Ellipse_blending_zset_pattern(
										spScanLineCache[spScanLineBegin].primitive.ellipse.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipse.z,
										spScanLineCache[spScanLineBegin].primitive.ellipse.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
						}
						else
						{
							if ( spScanLineCache[spScanLineBegin].zTest )
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_Ellipse_ztest_pattern(
										spScanLineCache[spScanLineBegin].primitive.ellipse.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipse.z,
										spScanLineCache[spScanLineBegin].primitive.ellipse.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_Ellipse_blending_ztest_pattern(
										spScanLineCache[spScanLineBegin].primitive.ellipse.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipse.z,
										spScanLineCache[spScanLineBegin].primitive.ellipse.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
							else
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_Ellipse_pattern(
										spScanLineCache[spScanLineBegin].primitive.ellipse.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipse.z,
										spScanLineCache[spScanLineBegin].primitive.ellipse.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_Ellipse_blending_pattern(
										spScanLineCache[spScanLineBegin].primitive.ellipse.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipse.z,
										spScanLineCache[spScanLineBegin].primitive.ellipse.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
						}
					}
					else
					#endif
					{
						if ( spScanLineCache[spScanLineBegin].zSet )
						{
							if ( spScanLineCache[spScanLineBegin].zTest )
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_Ellipse_ztest_zset(
										spScanLineCache[spScanLineBegin].primitive.ellipse.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipse.z,
										spScanLineCache[spScanLineBegin].primitive.ellipse.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_Ellipse_blending_ztest_zset(
										spScanLineCache[spScanLineBegin].primitive.ellipse.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipse.z,
										spScanLineCache[spScanLineBegin].primitive.ellipse.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
							else
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_Ellipse_zset(
										spScanLineCache[spScanLineBegin].primitive.ellipse.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipse.z,
										spScanLineCache[spScanLineBegin].primitive.ellipse.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_Ellipse_blending_zset(
										spScanLineCache[spScanLineBegin].primitive.ellipse.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipse.z,
										spScanLineCache[spScanLineBegin].primitive.ellipse.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
						}
						else
						{
							if ( spScanLineCache[spScanLineBegin].zTest )
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_Ellipse_ztest(
										spScanLineCache[spScanLineBegin].primitive.ellipse.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipse.z,
										spScanLineCache[spScanLineBegin].primitive.ellipse.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_Ellipse_blending_ztest(
										spScanLineCache[spScanLineBegin].primitive.ellipse.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipse.z,
										spScanLineCache[spScanLineBegin].primitive.ellipse.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
							else
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_Ellipse(
										spScanLineCache[spScanLineBegin].primitive.ellipse.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipse.z,
										spScanLineCache[spScanLineBegin].primitive.ellipse.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_Ellipse_blending(
										spScanLineCache[spScanLineBegin].primitive.ellipse.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipse.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipse.z,
										spScanLineCache[spScanLineBegin].primitive.ellipse.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
						}
					}
					break;
				}
				case 6: //ellipseBorder
				{
					#ifndef NO_PATTERN
					if ( spScanLineCache[spScanLineBegin].usePattern )
					{
						if ( spScanLineCache[spScanLineBegin].zSet )
						{
							if ( spScanLineCache[spScanLineBegin].zTest )
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_EllipseBorder_ztest_zset_pattern(
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.z,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.by,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_EllipseBorder_blending_ztest_zset_pattern(
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.z,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.by,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
							else
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_EllipseBorder_zset_pattern(
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.z,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.by,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_EllipseBorder_blending_zset_pattern(
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.z,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.by,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
						}
						else
						{
							if ( spScanLineCache[spScanLineBegin].zTest )
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_EllipseBorder_ztest_pattern(
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.z,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.by,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_EllipseBorder_blending_ztest_pattern(
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.z,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.by,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
							else
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_EllipseBorder_pattern(
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.z,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.by,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_EllipseBorder_blending_pattern(
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.z,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.by,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
						}
					}
					else
					#endif
					{
						if ( spScanLineCache[spScanLineBegin].zSet )
						{
							if ( spScanLineCache[spScanLineBegin].zTest )
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_EllipseBorder_ztest_zset(
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.z,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.by,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_EllipseBorder_blending_ztest_zset(
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.z,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.by,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
							else
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_EllipseBorder_zset(
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.z,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.by,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_EllipseBorder_blending_zset(
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.z,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.by,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
						}
						else
						{
							if ( spScanLineCache[spScanLineBegin].zTest )
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_EllipseBorder_ztest(
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.z,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.by,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_EllipseBorder_blending_ztest(
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.z,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.by,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
							else
							{
								#ifndef NO_BLENDING
								if ( spScanLineCache[spScanLineBegin].blending == SP_ONE)
								#endif
									sp_intern_EllipseBorder(
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.z,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.by,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#ifndef NO_BLENDING
								else
									sp_intern_EllipseBorder_blending(
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.x1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.y1,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rxr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.rx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryl,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ryr,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.ry,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.z,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.bx,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.by,
										spScanLineCache[spScanLineBegin].primitive.ellipseBorder.color,
										spScanLineCache[spScanLineBegin].pattern,
										spScanLineCache[spScanLineBegin].blending);
								#endif
							}
						}
					}
					break;
				}
			}
			SDL_mutexP(spScanLineMutex);
			spScanLineBegin = (spScanLineBegin+1) & SP_MAX_SCANLINES_MOD;
			SDL_mutexV(spScanLineMutex);
		}
		else
		{
			SDL_mutexV(spScanLineMutex);
			spSleep(SP_MAX_SCANLINES_WAIT_TIME);
		}
	}
	return 0;
}
